---
description: 
globs: 
---
---
name: nest-rules
description: TypeScript coding standards and best practices for Nest.js with gRPC and Redis
globs:
  - 'server/**/*.ts'
  - '!server/**/*.test.ts'
priority: 1
---

# Nest.js gRPC Redis 构建 BFF Client 端

## 基本配置

### 游标配置
- **初始游标值**: "0"
- **游标格式**: base64 编码的字符串
- **游标有效期**: 15分钟
- **游标存储键前缀**: "cursor:"

### 分页参数
- **默认每页大小**: 20
- **最大每页大小**: 100
- **最小每页大小**: 1

### 性能限制
- **单次扫描超时时间**: 5000ms
- **最大扫描键数**: 10000
- **内存使用上限**: 512MB

## 游标格式规范

### 游标结构
- 游标应包含唯一标识符和状态信息，例如：
  ```json
  {
    "id": "unique-id",
    "state": "active"
  }
  ```
